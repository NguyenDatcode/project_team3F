{% extends 'layout/base.html' %}
{% block content %}

<div class="main-container">

  <!-- Dịch vụ nhanh -->
  <div class="service-container">
    <div class="service-item">
      <i class="bi bi-receipt"></i>
      <a href="/extension/payment_extension">Thanh toán hóa đơn</a>
    </div>
    <div class="service-item">
      <i class="bi bi-search"></i>
      <a href="/extension/deal_extension">Tìm kiếm hợp đồng thuê</a>
    </div>
    <div class="service-item">
      <i class="bi bi-bell"></i>
      <a href="/extension/notify_extension">Xem thông báo</a>
    </div>
    <div class="service-item">
      <i class="bi bi-book"></i>
      <a href="/rule">Xem quy định</a>
    </div>
  </div>

  <!-- Danh sách hóa đơn -->
  <div class="payment-summary-section">
    <h3>Các Khoản Cần Thanh Toán</h3>

    {% if bills and bills|length > 0 %}
      <div class="payment-list">
        {% for bill in bills %}
          <div class="payment-item">
            <h4>{{ bill.title }}</h4>
            <p>Số tiền: {{ bill.amount }} VND</p>
            <p>Hạn thanh toán: {{ bill.due_date }}</p>
            <a href="/extension/payment/{{ bill.id }}" class="btn btn-primary btn-sm">Thanh toán</a>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="payment-empty-state">
        <i class="bi bi-check-circle-fill"></i>
        <p>Xin chúc mừng! Hiện tại bạn **không có** hóa đơn nào cần thanh toán.</p>
        <p class="text-muted">Tất cả các khoản phí đã được giải quyết.</p>
      </div>
    {% endif %}

  </div>

  <!-- Thông báo mới -->
  <div class="notification-summary-section">
    <h3>Thông Báo Mới Nhất</h3>
    {% if notifications %}
      <div class="notification-list">
       {% for note in notifications %}
<div class="notification-item">
    <i class="{{ note.icon }}"></i>
    <h4>{{ note.title }}</h4>
    <p>{{ note.description }}</p>
    <span>{{ note.created_at }}</span>
</div>
    {% endfor %}
      </div>
    {% else %}
      <div class="notification-empty-state">
        <i class="bi bi-info-circle-fill"></i>
        <p>Hiện tại bạn **không có** thông báo mới nào.</p>
        <p class="text-muted">Tất cả các thông báo cũ đã được xem.</p>
      </div>
    {% endif %}

  </div>

</div>

{% endblock %}
